from flask import Flask, render_template, jsonify
import random

app = Flask(__name__)

def generate_pizdato_meme():
    nachalo = [
        "Братан,", "Короче,", "Типа,", "Кста,", "Это пиздато.", 
        "Слышь,", "Пацаны,", "Четко говорю,", "Гарантирую,",
        "Не спорь,", "Поверь,", "Смотри сюда,", "Вообще тема,",
        "Щас объясню,", "Держи в курсе,", "По-другому и не скажешь,",
        "Ну ты понял,", "Все ясно,", "Тема жжот,", "Бывает,", "Хуй пизда джигурда,", "Смех смехом, а",
        "Забей,", "Лисен ту ми, гайс,"
    ]
    
    seredina = [
        "все будет", "жизнь есть", "деньги придут", "девки текут", "мемы крутятся",
        "дело пойдет", "халява ловится", "везение прилетает", "приколы идут",
        "настроение поднимается", "друзья напиваются", "биток растет",
        "план срабатывает", "система работает", "драйв появляется",
        "энергия бьет ключом", "удача улыбается", "все складывается",
        "звезды сходятся", "карма благоволит", "вселенная помогает", "лавэ мутится", "писюн опускается"
    ]
    
    konec = [
        "четко", "в натуре", "без леща", "по-пацански", "в топку",
        "на ура", "как по маслу", "в кайф", "по-максимуму", "на полную",
        "с первого раза", "без вопросов", "как надо", "по красоте",
        "в стиле босс", "с разгону", "на отлично", "как в аниме",
        "по-настоящему", "в полный рост", "и идёт по пизде", "как пять копеек"
    ]
    
    meme = random.choice(nachalo) + " " + random.choice(seredina) + " " + random.choice(konec)
    return meme

@app.route('/')
def index():
    return render_template('index.html', meme=generate_pizdato_meme())

@app.route('/api/meme')
def api_meme():
    return jsonify({'meme': generate_pizdato_meme()})

if __name__ == '__main__':
    app.run(debug=True)